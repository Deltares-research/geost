{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Retrieving and analysing BHR-GT grainsize samples\n",
    "In this example, we will download BHR-GT geotechnical boreholes (BRO BHR-GT objects) and \n",
    "associated grainsize sample data.\n",
    "\n",
    "> **ℹ️ This example is work-in-progress. Additional features developed for working with grainsize data will follow in future versions of GeoST**"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "You must download the BHR-GT borehole data (i.e. layer descriptions) and grainsize sample data seperately. In this example we will use a bounding box in WGS84 UTM 31N coordinates (EPSG:32631) that roughly covers the offshore sand mining area L12-2 in the Dutch North Sea"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "The data tables look like this:\n",
      "                nr              x              y  surface    end   top  \\\n",
      "0  BHR000000451643  119007.510234  610338.277226   -27.13 -32.08  0.20   \n",
      "1  BHR000000451643  119007.510234  610338.277226   -27.13 -32.08  0.65   \n",
      "2  BHR000000451643  119007.510234  610338.277226   -27.13 -32.08  1.60   \n",
      "3  BHR000000451643  119007.510234  610338.277226   -27.13 -32.08  2.20   \n",
      "4  BHR000000451643  119007.510234  610338.277226   -27.13 -32.08  3.20   \n",
      "\n",
      "   bottom fractionSmaller63um fractionLarger63um fraction63to90um  ...  \\\n",
      "0    0.40                 0.0              100.0              0.2  ...   \n",
      "1    0.85                 2.2               97.8              2.6  ...   \n",
      "2    1.80                 1.7               98.3              1.8  ...   \n",
      "3    2.40                 1.9               98.1              2.1  ...   \n",
      "4    3.40                 1.0               99.0              0.4  ...   \n",
      "\n",
      "  fraction355to500um fraction500to710um fraction710to1000um  \\\n",
      "0                6.6                0.8                 0.3   \n",
      "1                0.5                0.1                 0.1   \n",
      "2                0.8                0.3                 0.1   \n",
      "3                0.9                0.4                 0.1   \n",
      "4               13.6               49.4                  17   \n",
      "\n",
      "  fraction1000to1400um fraction1400umto2mm fraction2to4mm fraction4to8mm  \\\n",
      "0                  0.2                 0.2            1.2              0   \n",
      "1                    0                 0.1            0.2              0   \n",
      "2                    0                   0              0              0   \n",
      "3                    0                   0              0              0   \n",
      "4                    3                 0.7            2.7              0   \n",
      "\n",
      "  fraction16to31_5mm fraction31_5to63mm fractionLarger63mm  \n",
      "0                  0                  0                  0  \n",
      "1                  0                  0                  0  \n",
      "2                  0                  0                  0  \n",
      "3                  0                  0                  0  \n",
      "4                  0                  0                  0  \n",
      "\n",
      "[5 rows x 24 columns]\n"
     ]
    }
   ],
   "source": [
    "import geost\n",
    "\n",
    "# BHR-GT cores in sand mining area L12-2, using the object type 'BHR-GT'\n",
    "bhrgt_cores = geost.bro_api_read(\n",
    "    \"BHR-GT\", bbox=(619_000, 592_400_0, 625_000, 593_000_0), epsg=32631\n",
    ")\n",
    "\n",
    "# Corresponding samples, using the object type 'BHR-GT-samples'\n",
    "bhrgt_samples = geost.bro_api_read(\n",
    "    \"BHR-GT-samples\", bbox=(619_000, 592_400_0, 625_000, 593_000_0), epsg=32631\n",
    ")\n",
    "\n",
    "# Show results of downloaded samples\n",
    "print(\"\\nThe data tables look like this:\")\n",
    "print(bhrgt_samples.data.head())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "For more info, see the API reference of the [`bro_api_read`](../api_reference/generated/geost.bro_api_read.rst) function."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "default",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.14.2"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
